{"ast":null,"code":"var _jsxFileName = \"/Users/gkloker/Desktop/React/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Formulario from \"./components/Formulario\";\nimport ListImages from \"./components/ListImages\";\n\nfunction App() {\n  // state de la App\n  const [search, setSearch] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalpage, setTotalpage] = useState(1);\n  useEffect(() => {\n    const consultAPI = async () => {\n      if (search === '') return;\n      const cantImagePage = 30;\n      const key = \"17476031-41ab14d4d1084eb8ceb536ae7\";\n      const url = `https://pixabay.com/api/?key=${key}&q=${search}&per_page=${cantImagePage}`;\n      const request = await fetch(url);\n      const result = await request.json();\n      setImages(result.hits); // calcular el total de paginas\n\n      const calcTotalPages = Math.ceil(result.totalHits / cantImagePage);\n      setTotalpage(calcTotalPages);\n    };\n\n    consultAPI();\n  }, [search]); // definir la pagina anterior\n\n  const previousPage = () => {\n    const newPage = page - 1;\n    if (newPage === 0) return;\n    setPage(newPage);\n  }; // definir la pagina siguiente\n\n\n  const nextPage = () => {\n    const newPage = page + 1;\n    if (newPage > totalpage) return;\n    setPage(newPage);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jumbotron\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Search Images\"), /*#__PURE__*/React.createElement(Formulario, {\n    setSearch: setSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListImages, {\n    images: images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), page === 1 ? null : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-info mr-1\",\n    onClick: previousPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"\\xAB  Anterior\"), page === totalpage ? null : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-info\",\n    onClick: nextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Siguiente \\xBB\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gkloker/Desktop/React/src/App.js"],"names":["React","useState","useEffect","Formulario","ListImages","App","search","setSearch","images","setImages","page","setPage","totalpage","setTotalpage","consultAPI","cantImagePage","key","url","request","fetch","result","json","hits","calcTotalPages","Math","ceil","totalHits","previousPage","newPage","nextPage"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Formulario from \"./components/Formulario\";\nimport ListImages from \"./components/ListImages\";\n\nfunction App() {\n\n  // state de la App\n  const [search, setSearch] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalpage, setTotalpage] = useState(1);\n\n  useEffect(() => {\n    const consultAPI = async () => {\n      if(search === '') return;\n\n      const cantImagePage = 30;\n      const key = \"17476031-41ab14d4d1084eb8ceb536ae7\";\n      const url = `https://pixabay.com/api/?key=${key}&q=${search}&per_page=${cantImagePage}`;\n\n      const request = await fetch(url);\n      const result = await request.json();\n\n      setImages(result.hits);\n\n      // calcular el total de paginas\n      const calcTotalPages = Math.ceil(result.totalHits / cantImagePage);\n      setTotalpage(calcTotalPages);\n    }\n    consultAPI();\n\n  }, [search])\n\n  // definir la pagina anterior\n   const previousPage = () => {\n    const newPage = page - 1;\n\n    if (newPage === 0) return;\n\n    setPage(newPage);\n   }\n\n   // definir la pagina siguiente\n   const nextPage = () => {\n    const newPage = page + 1;\n\n    if(newPage > totalpage) return;\n\n    setPage(newPage);\n   }\n\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron\">\n        <p className=\"lead text-center\">Search Images</p>\n\n        <Formulario\n          setSearch={setSearch}\n        />\n      </div>\n\n      <div className=\"row justify-content-center\">\n        <ListImages\n          images={images}\n        />\n\n        {(page === 1) ? null : (\n          <button\n            type=\"button\"\n            className=\"btn btn-info mr-1\"\n            onClick={previousPage}\n          >\n            &laquo;  Anterior\n          </button>\n        )}\n\n        {(page === totalpage) ? null : (\n          <button\n            type=\"button\"\n            className=\"btn btn-info\"\n            onClick={nextPage}\n          >\n            Siguiente &raquo;\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}